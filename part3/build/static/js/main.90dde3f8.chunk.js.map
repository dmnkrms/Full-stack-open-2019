{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Button.js","components/PersonDetails.js","components/Persons.js","services/Persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","filterString","setFilterString","value","onChange","e","target","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Button","onClick","text","PersonDetails","person","deletePerson","name","number","id","Persons","persons","map","key","baseUrl","axios","get","then","response","data","post","put","delete","Notification","message","includes","className","App","useState","setPersons","setNewName","setNewNumber","setMessage","useEffect","personService","updatePerson","foundPersonId","newPerson","window","confirm","catch","setTimeout","find","p","filter","event","preventDefault","concat","error","toLowerCase","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.90dde3f8.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = ({filterString,setFilterString}) => (\r\n  <div>\r\n    filter shown with {' '}\r\n    <input\r\n      value={filterString}\r\n      onChange={e => setFilterString(e.target.value)}\r\n    />\r\n  </div>\r\n);\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\n\r\nconst PersonForm = ({\r\n  addPerson,\r\n  newName,\r\n  handleNameChange,\r\n  newNumber,\r\n  handleNumberChange\r\n}) => (\r\n  <form onSubmit={addPerson}>\r\n    <h2>add a new</h2>\r\n    <div>\r\n      name: <input value={newName} onChange={handleNameChange} />\r\n    </div>\r\n    <div>\r\n      number: <input value={newNumber} onChange={handleNumberChange} />\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\">add</button>\r\n    </div>\r\n  </form>\r\n);\r\n\r\nexport default PersonForm;\r\n","import React from \"react\";\r\n\r\nconst Button = ({ onClick, text }) => <button onClick={onClick}>{text}</button>\r\n\r\nexport default Button;\r\n","import React from \"react\";\r\nimport Button from \"./Button\";\r\n\r\nconst PersonDetails = ({ person, deletePerson }) => (\r\n  <p>\r\n    {person.name} {person.number}{\" \"}\r\n    <Button onClick={() => deletePerson(person.id)} text=\"delete\" />\r\n  </p>\r\n);\r\nexport default PersonDetails;\r\n","import React from \"react\";\r\nimport PersonDetails from \"./PersonDetails\";\r\n\r\nconst Persons = ({ persons, deletePerson }) => (\r\n  <div>\r\n    <h2>Numbers</h2>\r\n    {persons.map(person => (\r\n      <PersonDetails key={person.name} person={person} deletePerson={deletePerson} /> \r\n    ))}\r\n  </div>\r\n);\r\n\r\nexport default Persons;\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = person => {\r\n  const request = axios.post(baseUrl, person)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, person) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, person)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response =>  response.data)\r\n}\r\n\r\nexport default { getAll, create, update, deletePerson }","import React from \"react\";\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n\r\n  return message.includes(\"ERROR\") ? (\r\n    <div className=\"error\">{message}</div>\r\n  ) : (\r\n    <div className=\"message\">{message}</div>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Filter from \"./components/Filter\";\r\nimport PersonForm from \"./components/PersonForm\";\r\nimport Persons from \"./components/Persons\";\r\nimport personService from \"./services/Persons\";\r\nimport Notification from \"./components/Notification\";\r\nimport \"./app.css\";\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n  const [filterString, setFilterString] = useState(\"\");\r\n  const [message, setMessage] = useState(null);\r\n\r\n  useEffect(() => {\r\n    personService.getAll().then(data => {\r\n      setPersons(data);\r\n    });\r\n  }, []);\r\n\r\n  const addPerson = event => {\r\n    event.preventDefault();\r\n    const newPerson = {\r\n      name: newName,\r\n      number: newNumber\r\n    };\r\n\r\n    if (persons.find(person => person.name === newName)) {\r\n      const foundPersonId = persons.find(person => person.name === newName).id;\r\n      updatePerson(foundPersonId, newPerson);\r\n      return;\r\n    }\r\n\r\n    personService.create(newPerson).then(data => {\r\n      setPersons(persons.concat(data));\r\n      setNewName(\"\");\r\n      setNewNumber(\"\");\r\n      setMessage(`New person added: '${newPerson.name}'`);\r\n      setTimeout(() => {\r\n        setMessage(null);\r\n      }, 5000);\r\n    })\r\n    .catch(error => {\r\n      setMessage(`ERROR: ${error.response.data.error}`);\r\n      setTimeout(() => {\r\n        setMessage(null);\r\n      }, 5000);\r\n    });\r\n\r\n  };\r\n\r\n  const updatePerson = (foundPersonId, newPerson) => {\r\n    if (\r\n      window.confirm(\r\n        `${newPerson.name} is already added to phonebook, replace the old number with new one?`\r\n      )\r\n    ) {\r\n      personService\r\n        .update(foundPersonId, newPerson)\r\n        .then(data => {\r\n          setPersons(\r\n            persons.map(person => (person.id !== foundPersonId ? person : data))\r\n          );\r\n          setNewName(\"\");\r\n          setNewNumber(\"\");\r\n        })\r\n        .catch(() => {\r\n          setMessage(\r\n            `ERROR: Information of ${newPerson.name} has already been deleted from the server`\r\n          );\r\n          setTimeout(() => {\r\n            setMessage(null);\r\n          }, 5000);\r\n        });\r\n      setMessage(\r\n        `Person number updated: '${newPerson.name} ${newPerson.number}'`\r\n      );\r\n      setTimeout(() => {\r\n        setMessage(null);\r\n      }, 5000);\r\n    }\r\n  };\r\n\r\n  const deletePerson = id => {\r\n    if (\r\n      window.confirm(\r\n        `Do you really want to delete ${persons.find(p => p.id === id).name} ?`\r\n      )\r\n    ) {\r\n      personService.deletePerson(id).then(() => {\r\n        setPersons(persons.filter(p => p.id !== id));\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleNameChange = event => {\r\n    setNewName(event.target.value);\r\n  };\r\n\r\n  const handleNumberChange = event => {\r\n    setNewNumber(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={message} />\r\n      <Filter filterString={filterString} setFilterString={setFilterString} />\r\n      <PersonForm\r\n        addPerson={addPerson}\r\n        newName={newName}\r\n        handleNameChange={handleNameChange}\r\n        newNumber={newNumber}\r\n        handleNumberChange={handleNumberChange}\r\n      />\r\n      {filterString === \"\" ? (\r\n        <Persons persons={persons} deletePerson={deletePerson} />\r\n      ) : (\r\n        <Persons\r\n          persons={persons.filter(person =>\r\n            person.name.toLowerCase().includes(filterString.toLowerCase())\r\n          )}\r\n          deletePerson={deletePerson}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react'\nimport ReactDOM from \"react-dom\";\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById(\"root\"));"],"sourceRoot":""}